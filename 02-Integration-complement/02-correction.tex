\section{Chapitre 2 - La méthode de Monte-Carlo}


Voici le code :
\lstinputlisting[language=Scilab]{02-Integration-complement/Scripts-Scilab/MonteCarlo-simple.sci}

\begin{cor}$ $\\
\begin{center}
	\includegraphics[width=0.4\textwidth]{02-Integration-complement/Scripts-Scilab/fonction.pdf}
\end{center}
\end{cor}

\begin{cor}
On obtient le résultat suivant :
\begin{lstlisting}
-->[r,e]=rect(f,0,1,100)
 e  = 0.0000155708600156623245  
 r  = 0.0805132891947099027519
\end{lstlisting}
\end{cor}

\begin{cor}
On obtient le résultat suivant
\begin{lstlisting}
-->MonteCarlo(f,0,1,1000)
 ans  = 0.0827886208728949440916 
\end{lstlisting}
\begin{center}
	\includegraphics[width=0.48\textwidth]{02-Integration-complement/Scripts-Scilab/MonteCarlo1.pdf}
\end{center}
On peut néanmoins remarquer que la méthode n'est pas très stable car si on répète on essaye à nouveau \textbf{le même programme}, on obtient un résultat tout à fait différent :
\begin{lstlisting}
-->MonteCarlo(f,0,1,1000)
 ans  = 0.0771882141667873389324
\end{lstlisting}
\end{cor}



\begin{cor}
On obtient le résultat suivant :
\begin{lstlisting}
-->MonteCarlo2(f,0,1,1000)
 ans  = 0.0779629211010469530541
\end{lstlisting}
ou
\begin{lstlisting}
-->MonteCarlo2(f,0,1,500)
 ans  = 0.0822603994629290680152
\end{lstlisting}
\begin{center}
	\includegraphics[width=0.48\textwidth]{02-Integration-complement/Scripts-Scilab/MonteCarlo2.pdf}
\end{center}
\end{cor}

Le programme proposé est très intéressant car il est très visuel. On voit au fur et à mesure les nouveaux points choisis au hasard. Le problème c'est que Scilab n'arrête pas de faire des va et vient entre le calcul d'un point et son affichage ce qui ralentie l'exécution du programme. Il est donc préférable d'opter pour une version où on calcule tous les points que l'on garde en mémoire dans une matrice, puis d'afficher tous ces points. Gagnant nettement en rapidité, on pourra demander à calculer beaucoup plus de points. Le résultat sera alors plus fiable.\\

Voici notre nouveau programme avec un chronomètre pour comparer avec la méthode précédente :\\
\lstinputlisting[language=Scilab]{02-Integration-complement/Scripts-Scilab/MonteCarlo-matriciel.sci}

Les résultats sont les suivants :\\
\begin{tabularx}{\textwidth}{XX}
\begin{center}
	\includegraphics[width=0.48\textwidth]{02-Integration-complement/Scripts-Scilab/MonteCarlo1-matriciel-1000.pdf}
\end{center}
Avec 1~000 points, on obtient \newline
le résultat de 0.0793796776604816234357\newline
en 0.0469999999999999307221 seconde.
&
\begin{center}
	\includegraphics[width=0.48\textwidth]{02-Integration-complement/Scripts-Scilab/MonteCarlo1-matriciel-50000.pdf}
\end{center}
Avec 50~000 points, on obtient\newline
le résultat de 0.0807676045398213332538\newline
en 3.326 secondes.
\\
\end{tabularx}

\medskip

A comparer avec la première version qui nous donne un résultat pour 1~000 points en 13.276999999999999246825 secondes (mais on a une animation). Je n'ose pas essayer avec les 50~000 points...\\
...\\
Mais 5~000 points se fait en un peu moins de 167 secondes et 10~000 points en 556 secondes\footnote{En réalité j'ai bien essayé les 50~000 points mais mon ordinateur s'est mis en veille avant d'avoir terminé son calcul ...}.